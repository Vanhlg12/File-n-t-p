<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title data-i18n="site.title">Global Starter Site</title>
    <meta
      name="description"
      content="A multilingual, accessible, and responsive starter website with auto language detection (EN, VI, JA, ZH, DE)."
    />
    <meta name="color-scheme" content="light dark" />
    <style>
      :root {
        --bg: #0b1020;
        --panel: #101735;
        --text: #eaf0ff;
        --muted: #aab3d1;
        --accent: #7c5cff;
        --accent-2: #2bd4bd;
        --ring: rgba(124, 92, 255, 0.4);
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f7f8fc;
          --panel: #fff;
          --text: #0c1222;
          --muted: #63708f;
          --accent: #5b45e0;
          --accent-2: #1fbda8;
          --ring: rgba(91, 69, 224, 0.25);
        }
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Noto Sans, "Liberation Sans", Arial,
          "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(
            1200px 800px at 10% -10%,
            rgba(124, 92, 255, 0.15),
            transparent 60%
          ),
          radial-gradient(
            900px 700px at 110% 20%,
            rgba(43, 212, 189, 0.12),
            transparent 60%
          ),
          var(--bg);
        color: var(--text);
        line-height: 1.6;
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 24px;
      }
      header {
        display: flex;
        align-items: center;
        gap: 16px;
        justify-content: space-between;
        padding: 18px 20px;
        background: var(--panel);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 18px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        position: sticky;
        top: 12px;
        backdrop-filter: blur(8px);
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: inherit;
      }
      .logo {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: linear-gradient(135deg, var(--accent), var(--accent-2));
        box-shadow: 0 8px 20px var(--ring);
      }
      .brand h1 {
        font-size: 18px;
        margin: 0;
        letter-spacing: 0.3px;
      }

      .controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .select {
        appearance: none;
        padding: 10px 14px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: var(--panel);
        color: var(--text);
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.12);
      }
      .btn {
        cursor: pointer;
        padding: 10px 14px;
        border-radius: 12px;
        background: var(--accent);
        border: 1px solid transparent;
        color: white;
        font-weight: 600;
      }
      .btn:hover {
        filter: brightness(1.05);
      }

      main {
        margin-top: 24px;
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .hero {
        padding: 36px;
        background: linear-gradient(
          180deg,
          rgba(124, 92, 255, 0.08),
          rgba(43, 212, 189, 0.06)
        );
        border-radius: 22px;
        border: 1px solid rgba(255, 255, 255, 0.08);
      }
      .hero h2 {
        font-size: clamp(28px, 2.6vw, 40px);
        margin: 0 0 10px;
      }
      .hero p {
        margin: 0 0 14px;
        color: var(--muted);
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
      }
      .card {
        background: var(--panel);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 18px;
        padding: 18px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
      }
      .card h3 {
        margin: 0 0 8px;
        font-size: 18px;
      }
      .card p {
        margin: 0;
        color: var(--muted);
      }

      footer {
        margin-top: 24px;
        padding: 18px;
        border-radius: 18px;
        background: var(--panel);
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: var(--muted);
        font-size: 14px;
      }
      code.k {
        padding: 2px 6px;
        border-radius: 8px;
        background: rgba(124, 92, 255, 0.12);
        color: var(--text);
        border: 1px solid rgba(124, 92, 255, 0.25);
      }

      @media (max-width: 900px) {
        .grid {
          grid-template-columns: 1fr;
        }
        header {
          gap: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header aria-label="Site header">
        <a class="brand" href="#" aria-label="Homepage">
          <div class="logo" aria-hidden="true"></div>
          <h1 data-i18n="site.brand">Global Starter</h1>
        </a>
        <div class="controls">
          <label for="lang" class="sr-only" data-i18n="controls.choose"
            >Choose language</label
          >
          <select id="lang" class="select" aria-label="Language selector">
            <option value="en">English</option>
            <option value="vi">Tiếng Việt</option>
            <option value="ja">日本語</option>
            <option value="zh">中文</option>
            <option value="de">Deutsch</option>
          </select>
          <button
            id="reset"
            class="btn"
            type="button"
            data-i18n="controls.reset"
          >
            Auto
          </button>
        </div>
      </header>

      <main>
        <section class="hero">
          <h2 data-i18n="hero.title">Build once, speak globally.</h2>
          <p data-i18n="hero.subtitle">
            This template auto-detects the visitor's language and lets them
            switch instantly.
          </p>
          <p>
            <span data-i18n="hero.detected">Detected language:</span>
            <strong id="detected">—</strong>
            <span> · </span>
            <span data-i18n="hero.time">Local time:</span>
            <strong id="now">—</strong>
          </p>
        </section>

        <section class="grid" aria-label="Features">
          <article class="card">
            <h3 data-i18n="features.fast.title">Instant Translation</h3>
            <p data-i18n="features.fast.desc">
              No reloads. Content updates in place using data-i18n keys.
            </p>
          </article>
          <article class="card">
            <h3 data-i18n="features.auto.title">Auto Detect</h3>
            <p data-i18n="features.auto.desc">
              Reads <code class="k">navigator.languages</code>, URL
              <code class="k">?lang=</code>, and remembers with
              <code class="k">localStorage</code>.
            </p>
          </article>
          <article class="card">
            <h3 data-i18n="features.access.title">Accessible</h3>
            <p data-i18n="features.access.desc">
              Semantics, labels, and keyboard-friendly controls included.
            </p>
          </article>
        </section>

        <section class="card" aria-label="Content">
          <h3 data-i18n="content.title">Starter Content</h3>
          <p data-i18n="content.body">
            Use this as a base for your product or docs. Add keys in the
            dictionary below and annotate your HTML with
            <code class="k">data-i18n</code>.
          </p>
        </section>
      </main>

      <footer>
        <span data-i18n="footer.rights">All rights reserved.</span>
        <span> · </span>
        <span data-i18n="footer.source">No external dependencies.</span>
      </footer>
    </div>

    <script>
      // Minimal, dependency-free i18n engine with auto-detect and persistence.
      const I18N = {
        dictionaries: {
          en: {
            "site.title": "Global Starter Site",
            "site.brand": "Global Starter",
            "controls.choose": "Choose language",
            "controls.reset": "Auto",
            "hero.title": "Build once, speak globally.",
            "hero.subtitle":
              "This template auto-detects the visitor's language and lets them switch instantly.",
            "hero.detected": "Detected language:",
            "hero.time": "Local time:",
            "features.fast.title": "Instant Translation",
            "features.fast.desc":
              "No reloads. Content updates in place using data-i18n keys.",
            "features.auto.title": "Auto Detect",
            "features.auto.desc":
              "Reads navigator.languages, URL ?lang=, and remembers with localStorage.",
            "features.access.title": "Accessible",
            "features.access.desc":
              "Semantics, labels, and keyboard-friendly controls included.",
            "content.title": "Starter Content",
            "content.body":
              "Use this as a base for your product or docs. Add keys in the dictionary below and annotate your HTML with data-i18n.",
            "footer.rights": "All rights reserved.",
            "footer.source": "No external dependencies.",
          },
          vi: {
            "site.title": "Trang Mẫu Toàn Cầu",
            "site.brand": "Global Starter",
            "controls.choose": "Chọn ngôn ngữ",
            "controls.reset": "Tự động",
            "hero.title": "Xây một lần, dùng toàn cầu.",
            "hero.subtitle":
              "Mẫu này tự phát hiện ngôn ngữ và cho phép chuyển đổi tức thì.",
            "hero.detected": "Ngôn ngữ phát hiện:",
            "hero.time": "Giờ địa phương:",
            "features.fast.title": "Dịch tức thì",
            "features.fast.desc":
              "Không tải lại trang. Nội dung cập nhật dựa trên khóa data-i18n.",
            "features.auto.title": "Tự động nhận diện",
            "features.auto.desc":
              "Đọc navigator.languages, URL ?lang= và lưu bằng localStorage.",
            "features.access.title": "Truy cập tốt",
            "features.access.desc":
              "Ngữ nghĩa rõ ràng, nhãn và điều khiển thân thiện bàn phím.",
            "content.title": "Nội dung khởi đầu",
            "content.body":
              "Dùng làm nền tảng cho sản phẩm hoặc tài liệu. Thêm khóa vào từ điển và gắn data-i18n cho HTML.",
            "footer.rights": "Bảo lưu mọi quyền.",
            "footer.source": "Không phụ thuộc thư viện ngoài.",
          },
          ja: {
            "site.title": "多言語スターターサイト",
            "site.brand": "Global Starter",
            "controls.choose": "言語を選択",
            "controls.reset": "自動",
            "hero.title": "一度作って、世界へ届ける。",
            "hero.subtitle":
              "来訪者の言語を自動検出し、即時に切り替えできます。",
            "hero.detected": "検出された言語:",
            "hero.time": "現在時刻:",
            "features.fast.title": "瞬時の翻訳",
            "features.fast.desc": "リロード不要。data-i18n キーでその場更新。",
            "features.auto.title": "自動検出",
            "features.auto.desc":
              "navigator.languages、URL の ?lang=、localStorage に対応。",
            "features.access.title": "アクセシビリティ",
            "features.access.desc":
              "セマンティクス、ラベル、キーボード操作に配慮。",
            "content.title": "スターターコンテンツ",
            "content.body":
              "製品やドキュメントの土台として。辞書にキーを追加し、HTML に data-i18n を付与します。",
            "footer.rights": "All rights reserved.",
            "footer.source": "外部依存なし。",
          },
          zh: {
            "site.title": "多语言入门站点",
            "site.brand": "Global Starter",
            "controls.choose": "选择语言",
            "controls.reset": "自动",
            "hero.title": "一次构建，面向全球。",
            "hero.subtitle": "本模板会自动检测访客语言，并支持即时切换。",
            "hero.detected": "检测到的语言：",
            "hero.time": "本地时间：",
            "features.fast.title": "即时翻译",
            "features.fast.desc": "无需刷新。使用 data-i18n 键即时更新内容。",
            "features.auto.title": "自动检测",
            "features.auto.desc":
              "读取 navigator.languages、URL ?lang=，并用 localStorage 记住选择。",
            "features.access.title": "无障碍",
            "features.access.desc": "语义化结构、标签与键盘友好控件。",
            "content.title": "起始内容",
            "content.body":
              "将其作为产品或文档的基础。把键加入字典，并为 HTML 标注 data-i18n。",
            "footer.rights": "版权所有。",
            "footer.source": "无外部依赖。",
          },
          de: {
            "site.title": "Mehrsprachige Starter-Website",
            "site.brand": "Global Starter",
            "controls.choose": "Sprache wählen",
            "controls.reset": "Auto",
            "hero.title": "Einmal bauen, weltweit sprechen.",
            "hero.subtitle":
              "Diese Vorlage erkennt die Sprache automatisch und erlaubt sofortiges Umschalten.",
            "hero.detected": "Erkannte Sprache:",
            "hero.time": "Ortszeit:",
            "features.fast.title": "Sofortige Übersetzung",
            "features.fast.desc":
              "Kein Neuladen. Inhalte werden per data-i18n sofort aktualisiert.",
            "features.auto.title": "Automatische Erkennung",
            "features.auto.desc":
              "Liest navigator.languages, URL ?lang= und speichert in localStorage.",
            "features.access.title": "Barrierefrei",
            "features.access.desc":
              "Semantik, Labels und tastaturfreundliche Steuerung.",
            "content.title": "Startinhalte",
            "content.body":
              "Nutze dies als Basis für Produkt oder Dokus. Füge Wörterbuchschlüssel hinzu und markiere HTML mit data-i18n.",
            "footer.rights": "Alle Rechte vorbehalten.",
            "footer.source": "Keine externen Abhängigkeiten.",
          },
        },

        normalize(code) {
          // Map regional variants to our supported base codes
          const c = (code || "").toLowerCase();
          if (c.startsWith("zh")) return "zh";
          if (c.startsWith("en")) return "en";
          if (c.startsWith("vi")) return "vi";
          if (c.startsWith("ja") || c.startsWith("jp")) return "ja";
          if (c.startsWith("de")) return "de";
          return null;
        },

        detect() {
          const urlLang = new URLSearchParams(location.search).get("lang");
          const saved = localStorage.getItem("lang");
          const sources = [
            urlLang,
            saved,
            ...(navigator.languages || [navigator.language]),
          ];
          for (const src of sources) {
            const norm = this.normalize(src);
            if (norm && this.dictionaries[norm]) return norm;
          }
          return "en";
        },

        setLanguage(lang, { persist = true, updateHtmlAttr = true } = {}) {
          const code = this.normalize(lang) || "en";
          if (persist) localStorage.setItem("lang", code);
          if (updateHtmlAttr) document.documentElement.lang = code;
          this.translatePage(code);
          this.updateDetected(code);
          this.updateSelect(code);
          this.updateTitle(code);
        },

        translatePage(code) {
          const dict = this.dictionaries[code] || this.dictionaries.en;
          // Translate elements with data-i18n
          document.querySelectorAll("[data-i18n]").forEach((el) => {
            const key = el.getAttribute("data-i18n");
            const text = dict[key] || this.dictionaries.en[key] || key;
            if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
              el.placeholder = text;
            } else {
              el.textContent = text;
            }
          });
        },

        updateDetected(code) {
          const map = {
            en: "English",
            vi: "Tiếng Việt",
            ja: "日本語",
            zh: "中文",
            de: "Deutsch",
          };
          const label = map[code] || code;
          const el = document.getElementById("detected");
          if (el) el.textContent = label;
        },

        updateSelect(code) {
          const sel = document.getElementById("lang");
          if (sel) sel.value = code;
        },

        updateTitle(code) {
          const dict = this.dictionaries[code] || this.dictionaries.en;
          const t = dict["site.title"] || "Global Starter Site";
          document.title = t;
        },
      };

      // Initialize on load
      (function init() {
        const current = I18N.detect();
        I18N.setLanguage(current, { persist: false });

        // Bind controls
        document.getElementById("lang").addEventListener("change", (e) => {
          I18N.setLanguage(e.target.value);
          // Update URL param without reloading (for shareability)
          const url = new URL(location.href);
          url.searchParams.set("lang", I18N.normalize(e.target.value));
          history.replaceState({}, "", url);
        });

        document.getElementById("reset").addEventListener("click", () => {
          localStorage.removeItem("lang");
          const auto = I18N.detect();
          I18N.setLanguage(auto);
          const url = new URL(location.href);
          url.searchParams.delete("lang");
          history.replaceState({}, "", url);
        });

        // Live time in current locale
        const timeEl = document.getElementById("now");
        function tick() {
          const lang = document.documentElement.lang || "en-US";
          timeEl.textContent = new Date().toLocaleString(lang, {
            dateStyle: "medium",
            timeStyle: "medium",
          });
        }
        tick();
        setInterval(tick, 1000);
      })();
    </script>

    <!-- Accessibility: screen-reader-only utility -->
    <style>
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    </style>
  </body>
</html>
